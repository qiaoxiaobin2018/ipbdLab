2018-03-28 11:03:19,236 - Root WebApplicationContext: initialization started
2018-03-28 11:03:20,570 - Refreshing Root WebApplicationContext: startup date [Wed Mar 28 11:03:20 CST 2018]; root of context hierarchy
2018-03-28 11:03:21,221 - Loading XML bean definitions from file [D:\Tomcat8.5.12\apache-tomcat-8.5.12\webapps\ROOT\WEB-INF\classes\spring\applicationContext-dao.xml]
2018-03-28 11:03:24,715 - Loading XML bean definitions from file [D:\Tomcat8.5.12\apache-tomcat-8.5.12\webapps\ROOT\WEB-INF\classes\spring\applicationContext-service.xml]
2018-03-28 11:03:25,238 - Loading XML bean definitions from file [D:\Tomcat8.5.12\apache-tomcat-8.5.12\webapps\ROOT\WEB-INF\classes\spring\applicationContext-trans.xml]
2018-03-28 11:03:34,001 - Root WebApplicationContext: initialization completed in 14333 ms
2018-03-28 11:03:34,141 - FrameworkServlet 'ipl-sso': initialization started
2018-03-28 11:03:34,141 - Refreshing WebApplicationContext for namespace 'ipl-sso-servlet': startup date [Wed Mar 28 11:03:34 CST 2018]; parent: Root WebApplicationContext
2018-03-28 11:03:34,141 - Loading XML bean definitions from class path resource [springmvc/spring-mvc.xml]
2018-03-28 11:03:36,289 - Mapped "{[/myinfo],methods=[GET],produces=[application/json;charset=UTF-8 || application/json]}" onto public java.lang.String ipl.sso.controller.MyInfoController.getMyInfo(javax.servlet.http.HttpServletRequest)
2018-03-28 11:03:36,337 - Mapped "{[/register],methods=[POST],produces=[application/json;charset=UTF-8 || application/json]}" onto public java.lang.String ipl.sso.controller.UserLoginRegistController.createUser(ipl.manager.pojo.UserInfo)
2018-03-28 11:03:36,341 - Mapped "{[/login],methods=[POST],produces=[application/json;charset=UTF-8 || application/json]}" onto public java.lang.String ipl.sso.controller.UserLoginRegistController.userLogin(java.lang.String,java.lang.String,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 11:03:36,345 - Mapped "{[/checkinfo],methods=[GET],produces=[application/json;charset=UTF-8 || application/json]}" onto public java.lang.String ipl.sso.controller.UserValidatController.checkData(java.lang.String,java.lang.Integer)
2018-03-28 11:03:38,127 - Looking for @ControllerAdvice: WebApplicationContext for namespace 'ipl-sso-servlet': startup date [Wed Mar 28 11:03:34 CST 2018]; parent: Root WebApplicationContext
2018-03-28 11:03:38,519 - Looking for @ControllerAdvice: WebApplicationContext for namespace 'ipl-sso-servlet': startup date [Wed Mar 28 11:03:34 CST 2018]; parent: Root WebApplicationContext
2018-03-28 11:03:38,915 - FrameworkServlet 'ipl-sso': initialization completed in 4774 ms
2018-03-28 11:13:36,166 - Closing WebApplicationContext for namespace 'ipl-sso-servlet': startup date [Wed Mar 28 11:03:34 CST 2018]; parent: Root WebApplicationContext
2018-03-28 11:13:36,260 - Closing Root WebApplicationContext: startup date [Wed Mar 28 11:03:20 CST 2018]; root of context hierarchy
2018-03-28 11:20:52,503 - Root WebApplicationContext: initialization started
2018-03-28 11:20:52,841 - Refreshing Root WebApplicationContext: startup date [Wed Mar 28 11:20:52 CST 2018]; root of context hierarchy
2018-03-28 11:20:53,192 - Loading XML bean definitions from file [D:\Tomcat8.5.12\apache-tomcat-8.5.12\webapps\ROOT\WEB-INF\classes\spring\applicationContext-dao.xml]
2018-03-28 11:20:54,266 - Loading XML bean definitions from file [D:\Tomcat8.5.12\apache-tomcat-8.5.12\webapps\ROOT\WEB-INF\classes\spring\applicationContext-service.xml]
2018-03-28 11:20:54,632 - Loading XML bean definitions from file [D:\Tomcat8.5.12\apache-tomcat-8.5.12\webapps\ROOT\WEB-INF\classes\spring\applicationContext-trans.xml]
2018-03-28 11:20:59,789 - Root WebApplicationContext: initialization completed in 7286 ms
2018-03-28 11:20:59,913 - FrameworkServlet 'ipl-sso': initialization started
2018-03-28 11:20:59,929 - Refreshing WebApplicationContext for namespace 'ipl-sso-servlet': startup date [Wed Mar 28 11:20:59 CST 2018]; parent: Root WebApplicationContext
2018-03-28 11:20:59,929 - Loading XML bean definitions from class path resource [springmvc/spring-mvc.xml]
2018-03-28 11:21:06,368 - Mapped "{[/myinfo],methods=[GET],produces=[application/json;charset=UTF-8 || application/json]}" onto public java.lang.String ipl.sso.controller.MyInfoController.getMyInfo(javax.servlet.http.HttpServletRequest)
2018-03-28 11:21:06,368 - Mapped "{[/register],methods=[POST],produces=[application/json;charset=UTF-8 || application/json]}" onto public java.lang.String ipl.sso.controller.UserLoginRegistController.createUser(ipl.manager.pojo.UserInfo)
2018-03-28 11:21:06,383 - Mapped "{[/login],methods=[POST],produces=[application/json;charset=UTF-8 || application/json]}" onto public java.lang.String ipl.sso.controller.UserLoginRegistController.userLogin(java.lang.String,java.lang.String,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 11:21:06,383 - Mapped "{[/checkinfo],methods=[GET],produces=[application/json;charset=UTF-8 || application/json]}" onto public java.lang.String ipl.sso.controller.UserValidatController.checkData(java.lang.String,java.lang.Integer)
2018-03-28 11:21:08,337 - Looking for @ControllerAdvice: WebApplicationContext for namespace 'ipl-sso-servlet': startup date [Wed Mar 28 11:20:59 CST 2018]; parent: Root WebApplicationContext
2018-03-28 11:21:09,011 - Looking for @ControllerAdvice: WebApplicationContext for namespace 'ipl-sso-servlet': startup date [Wed Mar 28 11:20:59 CST 2018]; parent: Root WebApplicationContext
2018-03-28 11:21:09,345 - FrameworkServlet 'ipl-sso': initialization completed in 9432 ms
2018-03-28 11:21:43,946 - {dataSource-1} inited
2018-03-28 11:21:46,663 - 用户，6第==={}次登录
2018-03-28 11:22:07,450 - {dataSource-2} inited
2018-03-28 11:25:01,860 - Loading XML bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]
2018-03-28 11:25:01,985 - SQLErrorCodes loaded: [DB2, Derby, H2, HSQL, Informix, MS-SQL, MySQL, Oracle, PostgreSQL, Sybase, Hana]
2018-03-28 11:25:02,084 - org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry 'rrrr@qq.com' for key 'email'
### The error may involve ipl.manager.mapper.UserInfoMapper.insert-Inline
### The error occurred while setting parameters
### SQL: insert into user_info (id, username, password,         email, regist_time, login_time,         last_login_time, login_count, last_pay_time,         pay_time, expire_time, identity         )         values (?, ?, ?,         ?, ?, ?,         ?, ?, ?,         ?, ?, ?         )
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry 'rrrr@qq.com' for key 'email'
; SQL []; Duplicate entry 'rrrr@qq.com' for key 'email'; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry 'rrrr@qq.com' for key 'email'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:75)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:447)
	at com.sun.proxy.$Proxy12.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:279)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:57)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)
	at com.sun.proxy.$Proxy13.insert(Unknown Source)
	at ipl.sso.service.impl.UserLoginRegistServiceImpl.createUser(UserLoginRegistServiceImpl.java:107)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy17.createUser(Unknown Source)
	at ipl.sso.controller.UserLoginRegistController.createUser(UserLoginRegistController.java:58)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:230)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:624)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:798)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1441)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry 'rrrr@qq.com' for key 'email'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.Util.getInstance(Util.java:408)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:936)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2484)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:498)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:46)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy29.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:198)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:185)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:434)
	... 65 more

2018-03-28 11:29:23,557 - org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry 'sam1' for key 'username'
### The error may involve ipl.manager.mapper.UserInfoMapper.insert-Inline
### The error occurred while setting parameters
### SQL: insert into user_info (id, username, password,         email, regist_time, login_time,         last_login_time, login_count, last_pay_time,         pay_time, expire_time, identity         )         values (?, ?, ?,         ?, ?, ?,         ?, ?, ?,         ?, ?, ?         )
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry 'sam1' for key 'username'
; SQL []; Duplicate entry 'sam1' for key 'username'; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry 'sam1' for key 'username'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:75)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:447)
	at com.sun.proxy.$Proxy12.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:279)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:57)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)
	at com.sun.proxy.$Proxy13.insert(Unknown Source)
	at ipl.sso.service.impl.UserLoginRegistServiceImpl.createUser(UserLoginRegistServiceImpl.java:107)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy17.createUser(Unknown Source)
	at ipl.sso.controller.UserLoginRegistController.createUser(UserLoginRegistController.java:58)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:230)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:624)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:798)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1441)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry 'sam1' for key 'username'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.Util.getInstance(Util.java:408)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:936)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2484)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:498)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:46)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy29.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:198)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:185)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:434)
	... 65 more

2018-03-28 11:42:44,691 - 验证用户名===== usual_test
2018-03-28 11:42:45,080 - 该用户名usual_test已经存在
2018-03-28 11:46:32,751 - 验证邮箱=====usual_test
2018-03-28 11:46:44,770 - 验证邮箱=====usual_test@qq.com
2018-03-28 11:51:54,394 - Failed to bind request element: org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.lang.Integer'; nested exception is java.lang.NumberFormatException: For input string: "“”"
2018-03-28 11:51:59,133 - Failed to bind request element: org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.lang.Integer'; nested exception is java.lang.NumberFormatException: For input string: "“”"
2018-03-28 11:58:30,826 - 用户，2第==={}次登录
2018-03-28 12:03:04,941 - Closing WebApplicationContext for namespace 'ipl-sso-servlet': startup date [Wed Mar 28 11:20:59 CST 2018]; parent: Root WebApplicationContext
2018-03-28 12:03:06,738 - Closing Root WebApplicationContext: startup date [Wed Mar 28 11:20:52 CST 2018]; root of context hierarchy
2018-03-28 12:03:07,276 - {dataSource-2} closed
2018-03-28 12:03:07,276 - {dataSource-1} closed
2018-03-28 12:08:00,894 - Root WebApplicationContext: initialization started
2018-03-28 12:08:01,260 - Refreshing Root WebApplicationContext: startup date [Wed Mar 28 12:08:01 CST 2018]; root of context hierarchy
2018-03-28 12:08:01,661 - Loading XML bean definitions from file [D:\Tomcat8.5.12\apache-tomcat-8.5.12\webapps\ipl-sso\WEB-INF\classes\spring\applicationContext-dao.xml]
2018-03-28 12:08:02,024 - Loading XML bean definitions from file [D:\Tomcat8.5.12\apache-tomcat-8.5.12\webapps\ipl-sso\WEB-INF\classes\spring\applicationContext-service.xml]
2018-03-28 12:08:02,823 - Loading XML bean definitions from file [D:\Tomcat8.5.12\apache-tomcat-8.5.12\webapps\ipl-sso\WEB-INF\classes\spring\applicationContext-trans.xml]
2018-03-28 12:08:08,379 - Root WebApplicationContext: initialization completed in 7485 ms
2018-03-28 12:08:08,472 - FrameworkServlet 'ipl-sso': initialization started
2018-03-28 12:08:08,472 - Refreshing WebApplicationContext for namespace 'ipl-sso-servlet': startup date [Wed Mar 28 12:08:08 CST 2018]; parent: Root WebApplicationContext
2018-03-28 12:08:08,472 - Loading XML bean definitions from class path resource [springmvc/spring-mvc.xml]
2018-03-28 12:08:09,551 - Mapped "{[/myinfo],methods=[GET],produces=[application/json;charset=UTF-8 || application/json]}" onto public java.lang.String ipl.sso.controller.MyInfoController.getMyInfo(javax.servlet.http.HttpServletRequest)
2018-03-28 12:08:09,551 - Mapped "{[/register],methods=[POST],produces=[application/json;charset=UTF-8 || application/json]}" onto public java.lang.String ipl.sso.controller.UserLoginRegistController.createUser(ipl.manager.pojo.UserInfo)
2018-03-28 12:08:09,551 - Mapped "{[/login],methods=[POST],produces=[application/json;charset=UTF-8 || application/json]}" onto public java.lang.String ipl.sso.controller.UserLoginRegistController.userLogin(java.lang.String,java.lang.String,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-28 12:08:09,567 - Mapped "{[/checkinfo],methods=[GET],produces=[application/json;charset=UTF-8 || application/json]}" onto public java.lang.String ipl.sso.controller.UserValidatController.checkData(java.lang.String,java.lang.Integer)
2018-03-28 12:08:10,571 - Looking for @ControllerAdvice: WebApplicationContext for namespace 'ipl-sso-servlet': startup date [Wed Mar 28 12:08:08 CST 2018]; parent: Root WebApplicationContext
2018-03-28 12:08:10,723 - Looking for @ControllerAdvice: WebApplicationContext for namespace 'ipl-sso-servlet': startup date [Wed Mar 28 12:08:08 CST 2018]; parent: Root WebApplicationContext
2018-03-28 12:08:11,019 - FrameworkServlet 'ipl-sso': initialization completed in 2547 ms
